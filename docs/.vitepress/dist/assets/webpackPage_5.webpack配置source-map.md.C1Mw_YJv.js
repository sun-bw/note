import{_ as s,c as i,o as a,aR as n}from"./chunks/framework.BCbTIoR1.js";const g=JSON.parse('{"title":"","description":"","frontmatter":{},"headers":[],"relativePath":"webpackPage/5.webpack配置source-map.md","filePath":"webpackPage/5.webpack配置source-map.md","lastUpdated":1717654037000}'),l={name:"webpackPage/5.webpack配置source-map.md"},p=n(`<h2 id="一、source-map是什么" tabindex="-1">一、source-map是什么 <a class="header-anchor" href="#一、source-map是什么" aria-label="Permalink to &quot;一、source-map是什么&quot;">​</a></h2><p>一种提供源代码到构建后的映射技术（如果构建代码出错了，通过映射关系，可以追踪到源代码错误）</p><h2 id="二、source-map都有什么" tabindex="-1">二、source-map都有什么 <a class="header-anchor" href="#二、source-map都有什么" aria-label="Permalink to &quot;二、source-map都有什么&quot;">​</a></h2><p>[inline-|hidden-|eval][nosources-][cheap-[module-]]source-map</p><ul><li>source-map：外部<br> 错误代码准确信息，源代码错误位置</li><li>inline-source-map：内联<br> 错误代码准确信息，源代码错误位置，但是会额外增加代码大小</li><li>hidden-source-map：外部<br> 错误代码原因，但是没有准确位置。不能追踪到源代码错误，只能提示到构建后代码位置</li><li>eval-source-map：内联（每一个文件都生成source-map）<br> 错误代码准确信息和源代码错误位置</li><li>nosources-source-map：外部<br> 错误代码准确信息，但是没有任何源代码信息</li><li>cheap-source-map：外部<br> 错误代码准确信息和位置，只能精确到行。</li><li>cheap-module-source-map：外部<br> 错误代码准确信息和位置，只能精确到行。module会将loader和source map加入</li></ul><h2 id="三、内联和外部的区别" tabindex="-1">三、内联和外部的区别 <a class="header-anchor" href="#三、内联和外部的区别" aria-label="Permalink to &quot;三、内联和外部的区别&quot;">​</a></h2><p>外部会生成文件，内联不会生成文件。内联的构建速度更快。</p><h2 id="四、source-map的选择" tabindex="-1">四、source-map的选择 <a class="header-anchor" href="#四、source-map的选择" aria-label="Permalink to &quot;四、source-map的选择&quot;">​</a></h2><ol><li>开发环境：速度快，调试友好 <ul><li>速度快：eval&gt;inline&gt;cheap<br> eval-cheap-source-map<br> eval-source-map<br></li><li>调试友好<br> source-map<br> cheap-module-source-map<br> cheap-source-map<br> 开发环境一般选择：eval-source-map/eval-cheap-module-source-map</li></ul></li><li>生产环境：源代码要不要隐藏，调试有不友好 内联体积会非常大，所以不用内联。 <ul><li>nosources-source-map：全部隐藏</li><li>hidden-source-map:只会隐藏源代码，会提示构建后代码错误信息</li><li>source-map / cheap-module-source-map</li></ul></li></ol><h2 id="五、source-map的使用" tabindex="-1">五、source-map的使用 <a class="header-anchor" href="#五、source-map的使用" aria-label="Permalink to &quot;五、source-map的使用&quot;">​</a></h2><p>新增devtool: &#39;source-map&#39;</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">resolve</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> require</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;path&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> HtmlWebpackPlugin</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> require</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;html-webpack-plugin&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">module</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">exports</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    entry:[</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;./src/js/index.js&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;./src/index.html&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    output:{</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        filename:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;js/built.js&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        path:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">resolve</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(__dirname,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;build&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    module:{</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        rules:[</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        ]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    plugins:[</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> HtmlWebpackPlugin</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            template:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;./src/index.html&#39;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        })</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    ],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    mode:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;development&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    devServer: {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        // 项目构建后路径</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        contentBase: </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">resolve</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(__dirname, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;build&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">),</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        // 启动gzip压缩</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        compress: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        // 端口号</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        port: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3000</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        // 自动打开浏览器</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        open: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        //开启HMR功能</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        //当修改了webpack配置，重启webpack服务</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        hot:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    devtool:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;eval-source-map&#39;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//source-map</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div>`,12),e=[p];function h(k,t,r,E,c,d){return a(),i("div",null,e)}const u=s(l,[["render",h]]);export{g as __pageData,u as default};
