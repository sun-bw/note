<script>
    // 定义一个商品对象
    let quantity = 2
    let product = {
        price: 10,
        quantity: quantity,
    }

    // 总价格
    let total = 0

    // 计算总价格
    let effect = () => {
        total = product.price * product.quantity //  product.quantity getter行为
    }

    effect()
    console.log('总价格',total) // 20

    // Object.defineProperty() 监听指定对象的属性
    Object.defineProperty(product, 'quantity', {
        get() {
            return quantity
        },
        set(value) {
            quantity = value
            // 触发effect
            effect()
        }
    })

    // 修改商品数量
    product.quantity = 5 // product.quantity setter行为
    console.log('总价格',total) // 50
</script>